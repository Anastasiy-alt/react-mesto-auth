{"ast":null,"code":"import _classCallCheck from\"/Users/anastasiavolokitina/Documents/GitHub/mesto-react/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/anastasiavolokitina/Documents/GitHub/mesto-react/node_modules/@babel/runtime/helpers/esm/createClass.js\";var Api=/*#__PURE__*/function(){function Api(options){_classCallCheck(this,Api);this._baseUrl=options.baseUrl;this._headers=options.headers;}_createClass(Api,[{key:\"_check\",value:function _check(res){if(res.ok){return res.json();}// если ошибка, отклоняем промис\nreturn Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(res.status));}},{key:\"getInitialCards\",value:function getInitialCards(){var _this=this;return fetch(\"\".concat(this._baseUrl,\"/cards\"),{headers:this._headers,method:'GET'}).then(function(res){return _this._check(res);});}},{key:\"addInitialCards\",value:function addInitialCards(cardData){var _this2=this;return fetch(\"\".concat(this._baseUrl,\"/cards\"),{headers:this._headers,method:'POST',body:JSON.stringify({name:cardData.name,link:cardData.link})}).then(function(res){return _this2._check(res);});}},{key:\"getUserInfo\",value:function getUserInfo(){var _this3=this;return fetch(\"\".concat(this._baseUrl,\"/users/me\"),{headers:this._headers,method:'GET'}).then(function(res){return _this3._check(res);});}},{key:\"setUserInfo\",value:function setUserInfo(userData){var _this4=this;return fetch(\"\".concat(this._baseUrl,\"/users/me\"),{headers:this._headers,method:'PATCH',body:JSON.stringify({name:userData.name,about:userData.info})}).then(function(res){return _this4._check(res);});}},{key:\"addCard\",value:function addCard(cardData){var _this5=this;return fetch(\"\".concat(this._baseUrl,\"/cards\"),{method:'POST',headers:this._headers,body:JSON.stringify({name:cardData.name,link:cardData.link})}).then(function(res){return _this5._check(res);});}},{key:\"setUserAvatar\",value:function setUserAvatar(userData){var _this6=this;return fetch(\"\".concat(this._baseUrl,\"/users/me/avatar\"),{headers:this._headers,method:'PATCH',body:JSON.stringify({avatar:userData.avatar})}).then(function(res){return _this6._check(res);});}},{key:\"deleteCard\",value:function deleteCard(cardId){var _this7=this;return fetch(\"\".concat(this._baseUrl,\"/cards/\").concat(cardId),{method:'DELETE',headers:this._headers}).then(function(res){return _this7._check(res);});}},{key:\"putLike\",value:function putLike(cardId){var _this8=this;return fetch(\"\".concat(this._baseUrl,\"/cards/\").concat(cardId,\"/likes\"),{method:'PUT',headers:this._headers}).then(function(res){return _this8._check(res);});}},{key:\"deleteLike\",value:function deleteLike(cardId){var _this9=this;return fetch(\"\".concat(this._baseUrl,\"/cards/\").concat(cardId,\"/likes\"),{method:'DELETE',headers:this._headers}).then(function(res){return _this9._check(res);});}}]);return Api;}();var api=new Api({baseUrl:'https://mesto.nomoreparties.co/v1/cohort-46',headers:{authorization:'4ab555e1-39a0-48e6-8593-6e8a4a84e28f','Content-Type':'application/json'}});export default api;","map":{"version":3,"names":["Api","options","_baseUrl","baseUrl","_headers","headers","res","ok","json","Promise","reject","status","fetch","method","then","_check","cardData","body","JSON","stringify","name","link","userData","about","info","avatar","cardId","api","authorization"],"sources":["/Users/anastasiavolokitina/Documents/GitHub/mesto-react/src/utils/Api.js"],"sourcesContent":["class Api {\n    constructor(options) {\n        this._baseUrl = options.baseUrl;\n        this._headers = options.headers;\n    }\n\n    _check(res) {\n        if (res.ok) {\n            return res.json();\n        }\n        // если ошибка, отклоняем промис\n        return Promise.reject(`Ошибка: ${res.status}`);\n    }\n\n    getInitialCards() {\n        return fetch(`${this._baseUrl}/cards`, {\n            headers: this._headers,\n            method: 'GET'\n        })\n            .then(res => this._check(res))\n    }\n\n    addInitialCards(cardData) {\n        return fetch(`${this._baseUrl}/cards`, {\n            headers: this._headers,\n            method: 'POST',\n            body: JSON.stringify({\n                name: cardData.name,\n                link: cardData.link\n            })\n        })\n            .then(res => this._check(res))\n\n    }\n    getUserInfo() {\n        return fetch(`${this._baseUrl}/users/me`, {\n            headers: this._headers,\n            method: 'GET'\n        })\n            .then(res => this._check(res))\n    }\n\n    setUserInfo(userData) {\n        return fetch(`${this._baseUrl}/users/me`, {\n            headers: this._headers,\n            method: 'PATCH',\n            body: JSON.stringify({\n                name: userData.name,\n                about: userData.info\n            })\n        })\n            .then(res => this._check(res))\n    }\n\n    addCard(cardData) {\n        return fetch(`${this._baseUrl}/cards`, {\n            method: 'POST',\n            headers: this._headers,\n            body: JSON.stringify({\n                name: cardData.name,\n                link: cardData.link\n            })\n        })\n            .then(res => this._check(res));\n    }\n\n    setUserAvatar(userData) {\n        return fetch(`${this._baseUrl}/users/me/avatar`, {\n            headers: this._headers,\n            method: 'PATCH',\n            body: JSON.stringify({\n                avatar: userData.avatar\n            })\n        })\n            .then(res => this._check(res))\n    }\n\n    deleteCard(cardId) {\n        return fetch(`${this._baseUrl}/cards/${cardId}`, {\n            method: 'DELETE',\n            headers: this._headers,\n        })\n            .then(res => this._check(res))\n    }\n\n    putLike(cardId) {\n        return fetch(`${this._baseUrl}/cards/${cardId}/likes`, {\n            method: 'PUT',\n            headers: this._headers,\n        })\n            .then(res => this._check(res))\n    }\n\n    deleteLike(cardId) {\n        return fetch(`${this._baseUrl}/cards/${cardId}/likes`, {\n            method: 'DELETE',\n            headers: this._headers,\n        })\n            .then(res => this._check(res))\n    }\n\n}\n\nconst api = new Api({\n    baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-46',\n    headers: {\n        authorization: '4ab555e1-39a0-48e6-8593-6e8a4a84e28f',\n        'Content-Type': 'application/json'\n    }\n});\n\nexport default api;"],"mappings":"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"},"metadata":{},"sourceType":"module"}